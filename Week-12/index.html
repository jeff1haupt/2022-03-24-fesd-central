<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
    <title>Document</title>
</head>
<body>

    <form>
        <input type="text" placeholder="First Name"><br><br>
        <input type="text" placeholder="Last Name"><br><br>
        <input type="text" placeholder="Student Id"><br><br>
        <input type="text" placeholder="Email"><br><br>
        <input type="submit" value="submit" onclick="student1.updateStudent('62abcbf66f047803e8ae91c8', first.value)">
    </form>
    
    <script>
        const baseURL = 'https://crudcrud.com/api/2e231480b74a439f80d771327070372d';

        class Student {
            constructor(firstName, lastName, studentID, studentEmail) {
                this.firstName = firstName;
                this.lastName = lastName;
                this.studentID = studentID;
                this.studentEmail = studentEmail;
            }
            createStudent() {
                fetch(`${baseURL}/students`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        "firstName": `${this.firstName}`,
                        "lastName": `${this.lastName}`,
                        "studentID": `${this.studentID}`,
                        "email": `${this.studentEmail}`
                    })
                }).then( res => res.json() )
                  .then( res => console.log(res) )
            }
            updateStudent(id, firstN, lastN, sId, sEmail) {

                fetch(`${baseURL}/students/${id}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        "firstName": firstN,
                        "lastName": `Haupt`,
                        "studentID": `1234`,
                        "email": `jehaupt@student.com`
                    })
                }).then( res => res )
                  .then( res => console.log(res) )
            }
        }

        // const student1 = new Student('Reynolds', 'Sharp', '2345', 'rsharp@student.com');
        // student1.createStudent();
        let last = document.querySelector("input[placeholder='Last Name']");
        last.addEventListener('focus', () => {
            last.classList.add('animate__animated', 'animate__pulse')
        })
        
        // student1.updateStudent('62abcbf66f047803e8ae91c8', first.value);

        // function getAllStudents() {
        //     fetch(`${baseURL}/students`)
        //         .then( res => res.json() )
        //         .then( res => console.log(res))
        // }

        // getAllStudents();
        
    </script>
</body>
</html>
